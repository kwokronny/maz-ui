import{G as D,H as R,I,L as F,J as K,K as j,R as q,M as T,S as U}from"./theme.R_7mmwxo.js";import{d as A,e as k,X as E,g as z,h as G,w as H,az as P,n as J,ay as C,aA as X,aB as O}from"./framework.0IHa-SMz.js";const L={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},$={ariaLabel:{type:String},ariaDescribedby:{type:String}},N={type:{type:String,required:!0},...L,...$},Q=X[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function c(t){return O(t)?P(t):t}function V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return O(e)?new Proxy(t,{}):t}function W(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function w(t,e){t.labels=e}function S(t,e,n){const l=[];t.datasets=e.map(r=>{const a=t.datasets.find(d=>d[n]===r[n]);return!a||!r.data||l.includes(a)?{...r}:(l.push(a),Object.assign(a,r),a)})}function Y(t,e){const n={labels:[],datasets:[]};return w(n,t.labels),S(n,t.datasets,e),n}function et(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function at(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function nt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const Z=A({props:N,setup(t,e){let{expose:n,slots:l}=e;const r=k(null),a=E(null);n({chart:a});const d=()=>{if(!r.value)return;const{type:s,data:g,options:y,plugins:p,datasetIdKey:m}=t,b=Y(g,m),u=V(b,g);a.value=new D(r.value,{type:s,data:u,options:{...y},plugins:p})},f=()=>{const s=P(a.value);s&&(s.destroy(),a.value=null)},M=s=>{s.update(t.updateMode)};return z(d),G(f),H([()=>t.options,()=>t.data],(s,g)=>{let[y,p]=s,[m,b]=g;const u=P(a.value);if(!u)return;let v=!1;if(y){const i=c(y),h=c(m);i&&i!==h&&(W(u,i),v=!0)}if(p){const i=c(p.labels),h=c(b.labels),x=c(p.datasets),B=c(b.datasets);i!==h&&(w(u.config.data,i),v=!0),x&&x!==B&&(S(u.config.data,x,t.datasetIdKey),v=!0)}v&&J(()=>{M(u)})},{deep:!0}),()=>C("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[C("p",{},[l.default?l.default():""])])}});function o(t,e){return D.register(e),A({props:L,setup(n,l){let{expose:r}=l;const a=E(null),d=f=>{a.value=f==null?void 0:f.chart};return r({chart:a}),()=>C(Z,Q({ref:d},{type:t,...n}))}})}const rt=o("bar",R),st=o("doughnut",I),ot=o("line",F),lt=o("pie",K),ut=o("polarArea",j),it=o("radar",q),ct=o("bubble",T),dt=o("scatter",U);export{rt as Bar,ct as Bubble,Z as Chart,st as Doughnut,ot as Line,lt as Pie,ut as PolarArea,it as Radar,dt as Scatter,o as createTypedChart,et as getDatasetAtEvent,at as getElementAtEvent,nt as getElementsAtEvent};
